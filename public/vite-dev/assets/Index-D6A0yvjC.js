import{u as S,r as h,e as f,m as _}from"./index-C2DForDf.js";import{m as E}from"./globalConfig-DaGjiImb.js";import{u as w}from"./index-BaHWIRRA.js";import{g as R}from"./globalConfigMixin-BNbqaRx5.js";import{_ as b}from"./Input-BujGHd2I.js";import{a as A}from"./auth-DDr_qkNO.js";import{S as x}from"./SubmitButton-DD7GmEA-.js";import{_ as P,o as I,n as O,p as o,t as r,e as l,m as p,l as L,f as M,u as m}from"./_plugin-vue_export-helper-CvYNw_mv.js";import"./index-Y4OjWrJ-.js";import"./_commonjsHelpers-BosuxZz1.js";import"./WithLabel-DjXD7ol1.js";import"./DashboardIcon-CPXNa31t.js";import"./vue-router-CNCrM2WK.js";import"./index-BP-sUqpX.js";import"./AudioNotificationHelper-CDrFIep2.js";import"./exports-CsC-x4VI.js";import"./Icon-Dtj3LCzD.js";import"./axios-CCb-kr4I.js";import"./Spinner-B-aSVz3z.js";const T={components:{FormInput:b,SubmitButton:x},mixins:[R],setup(){return{v$:S()}},data(){return{credentials:{email:""},resetPassword:{message:"",showLoading:!1},error:""}},computed:{...E({globalConfig:"globalConfig/get"})},validations(){return{credentials:{email:{required:h,email:f,minLength:_(4)}}}},methods:{showAlertMessage(e){this.resetPassword.showLoading=!1,w(e)},submit(){this.resetPassword.showLoading=!0,A(this.credentials).then(e=>{let t=this.$t("RESET_PASSWORD.API.SUCCESS_MESSAGE");e.data&&e.data.message&&(t=e.data.message),this.showAlertMessage(t)}).catch(e=>{var i,s;let t=this.$t("RESET_PASSWORD.API.ERROR_MESSAGE");(s=(i=e==null?void 0:e.response)==null?void 0:i.data)!=null&&s.message&&(t=e.response.data.message),this.showAlertMessage(t)})}}},C={class:"flex flex-col justify-center w-full min-h-screen py-12 bg-woot-25 sm:px-6 lg:px-8 dark:bg-slate-900"},k={class:"mb-1 text-2xl font-medium tracking-tight text-left text-slate-900 dark:text-white"},$={class:"mb-4 text-sm font-normal leading-6 tracking-normal text-slate-600 dark:text-woot-50"},D={class:"space-y-5"},v={class:"mt-4 -mb-1 text-sm text-slate-600 dark:text-woot-50"};function B(e,t,i,s,a,d){const u=m("FormInput"),g=m("SubmitButton"),c=m("router-link");return I(),O("div",C,[o("form",{class:"bg-white shadow sm:mx-auto sm:w-full sm:max-w-lg dark:bg-slate-800 p-11 sm:shadow-lg sm:rounded-lg",onSubmit:t[1]||(t[1]=M((...n)=>d.submit&&d.submit(...n),["prevent"]))},[o("h1",k,r(e.$t("RESET_PASSWORD.TITLE")),1),o("p",$,r(e.useInstallationName(e.$t("RESET_PASSWORD.DESCRIPTION"),"Altores")),1),o("div",D,[l(u,{modelValue:a.credentials.email,"onUpdate:modelValue":t[0]||(t[0]=n=>a.credentials.email=n),name:"email_address","has-error":s.v$.credentials.email.$error,"error-message":e.$t("RESET_PASSWORD.EMAIL.ERROR"),placeholder:e.$t("RESET_PASSWORD.EMAIL.PLACEHOLDER"),onInput:s.v$.credentials.email.$touch},null,8,["modelValue","has-error","error-message","placeholder","onInput"]),l(g,{disabled:s.v$.credentials.email.$invalid||a.resetPassword.showLoading,"button-text":e.$t("RESET_PASSWORD.SUBMIT"),loading:a.resetPassword.showLoading},null,8,["disabled","button-text","loading"])]),o("p",v,[p(r(e.$t("RESET_PASSWORD.GO_BACK_TO_LOGIN"))+" ",1),l(c,{to:"/auth/login",class:"text-link"},{default:L(()=>[p(r(e.$t("COMMON.CLICK_HERE"))+". ",1)]),_:1})])],32)])}const se=P(T,[["render",B]]);export{se as default};
