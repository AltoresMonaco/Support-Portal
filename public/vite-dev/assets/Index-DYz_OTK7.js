import{u as T}from"./useMessageFormatter-CoQTTzFX.js";import{m as N}from"./globalConfig-DaGjiImb.js";import{x as h}from"./dashboard-CGLIihvy.js";import{_ as d,u,o as s,n as r,p as o,t as a,e as m,l as g,m as S,a as b,g as f,H as L}from"./_plugin-vue_export-helper-CvYNw_mv.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-BO4rcqbh.js";import"./axios-CCb-kr4I.js";import"./mutationHelpers-3VTcoJiD.js";import"./vue-router-CNCrM2WK.js";import"./index-BP-sUqpX.js";import"./index-DaWXXnfb.js";import"./globalConfigMixin-BNbqaRx5.js";import"./timeHelper-BT38nsET.js";import"./Spinner-B-aSVz3z.js";import"./Thumbnail-DLjRBBx8.js";import"./utils.esm-CA3tRshB.js";import"./exports-CsC-x4VI.js";import"./index-BaHWIRRA.js";import"./index-Y4OjWrJ-.js";import"./index-C2DForDf.js";import"./useKeyboardNavigableList-Cfstgo2Q.js";import"./helper-DcGaBm2u.js";import"./DashboardIcon-CPXNa31t.js";import"./AudioNotificationHelper-CDrFIep2.js";import"./Icon-Dtj3LCzD.js";import"./Validators-eX6_8wdj.js";import"./vue-dompurify-html-DZ5r8uTJ.js";import"./module-CGzIBJZi.js";const B={props:{title:{type:String,default:""},description:{type:String,default:""},buttonLabel:{type:String,default:""},buttonIcon:{type:String,default:"edit"}},emits:["open"]},A={class:"manage-subscription"},G={class:"manage-subscription--description"};function E(t,n,i,p,I,e){const l=u("woot-button");return s(),r("div",A,[o("div",null,[o("h6",null,a(i.title),1),o("p",G,a(i.description),1)]),o("div",null,[m(l,{variant:"smooth",icon:i.buttonIcon,onClick:n[0]||(n[0]=c=>t.$emit("open"))},{default:g(()=>[S(a(i.buttonLabel),1)]),_:1},8,["icon"])])])}const C=d(B,[["render",E]]),$={components:{BillingItem:C},setup(){const{accountId:t}=h(),{formatMessage:n}=T();return{accountId:t,formatMessage:n}},computed:{...N({getAccount:"accounts/getAccount",uiFlags:"accounts/getUIFlags"}),currentAccount(){return this.getAccount(this.accountId)||{}},customAttributes(){return this.currentAccount.custom_attributes||{}},hasABillingPlan(){return!!this.planName},planName(){return this.customAttributes.plan_name||""},subscribedQuantity(){return this.customAttributes.subscribed_quantity||0}},mounted(){this.fetchAccountDetails()},methods:{async fetchAccountDetails(){this.hasABillingPlan||this.$store.dispatch("accounts/subscription")},onClickBillingPortal(){this.$store.dispatch("accounts/checkout")},onToggleChatWindow(){window.$chatwoot&&window.$chatwoot.toggle()}}},v={class:"flex-1 p-6 overflow-auto dark:bg-slate-900"},w={key:1},y={key:2,class:"w-full"},O={class:"current-plan--details"};function P(t,n,i,p,I,e){const l=u("woot-loading-state"),c=u("BillingItem"),_=L("dompurify-html");return s(),r("div",v,[t.uiFlags.isFetchingItem?(s(),b(l,{key:0})):e.hasABillingPlan?(s(),r("div",y,[o("div",O,[o("h6",null,a(t.$t("BILLING_SETTINGS.CURRENT_PLAN.TITLE")),1),f(o("div",null,null,512),[[_,p.formatMessage(t.$t("BILLING_SETTINGS.CURRENT_PLAN.PLAN_NOTE",{plan:e.planName,quantity:e.subscribedQuantity}))]])]),m(c,{title:t.$t("BILLING_SETTINGS.MANAGE_SUBSCRIPTION.TITLE"),description:t.$t("BILLING_SETTINGS.MANAGE_SUBSCRIPTION.DESCRIPTION"),"button-label":t.$t("BILLING_SETTINGS.MANAGE_SUBSCRIPTION.BUTTON_TXT"),onOpen:e.onClickBillingPortal},null,8,["title","description","button-label","onOpen"]),m(c,{title:t.$t("BILLING_SETTINGS.CHAT_WITH_US.TITLE"),description:t.$t("BILLING_SETTINGS.CHAT_WITH_US.DESCRIPTION"),"button-label":t.$t("BILLING_SETTINGS.CHAT_WITH_US.BUTTON_TXT"),"button-icon":"chat-multiple",onOpen:e.onToggleChatWindow},null,8,["title","description","button-label","onOpen"])])):(s(),r("div",w,[o("p",null,a(t.$t("BILLING_SETTINGS.NO_BILLING_USER")),1)]))])}const ct=d($,[["render",P]]);export{ct as default};
