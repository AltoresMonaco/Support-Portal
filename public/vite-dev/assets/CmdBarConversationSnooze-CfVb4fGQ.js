import{r as p,o as C,n as h,c as d,u as O,a as T,l as E,e as I}from"./_plugin-vue_export-helper-CvYNw_mv.js";import{s as N,c as w}from"./dashboard-CGLIihvy.js";import{c as x,u as M,q as g}from"./mutationHelpers-3VTcoJiD.js";import{u as b}from"./index-BaHWIRRA.js";import{u as A}from"./globalConfig-DaGjiImb.js";import{C as U,f as z}from"./CustomSnoozeModal-C-8tQQe1.js";import{c as k}from"./events-Ch9G9t6H.js";import{w as l}from"./DashboardIcon-CPXNa31t.js";const Y={__name:"IntersectionObserver",props:{options:{type:Object,default:()=>({root:document,rootMargin:"100px 0 100px 0)"})}},emits:["observed"],setup(c,{emit:t}){const s=t,n=p("");return N(n,([{isIntersecting:e}])=>{e&&s("observed")},c.options),(e,u)=>(C(),h("div",{ref_key:"observedElement",ref:n,class:"h-6 w-full"},null,512))}},j={__name:"CmdBarConversationSnooze",setup(c){const t=x(),s=M(),{t:n}=A(),e=p(!1),u=d(()=>s.getSelectedChat.value),_=d(()=>s.getContextMenuChatId.value),m=async(o,a)=>{var r;await t.dispatch("toggleStatus",{conversationId:((r=u.value)==null?void 0:r.id)||_.value,status:o,snoozedUntil:a}),t.dispatch("setContextMenuChatId",null),b(n("CONVERSATION.CHANGE_STATUS"))},S=o=>{o===l.SNOOZE_OPTIONS.UNTIL_CUSTOM_TIME?e.value=!0:m(l.STATUS_TYPE.SNOOZED,z(o)||null)},f=o=>{e.value=!1,o&&m(l.STATUS_TYPE.SNOOZED,g(o))},i=()=>{t.dispatch("setContextMenuChatId",null),e.value=!1};return w(k,S),(o,a)=>{const r=O("woot-modal");return C(),T(r,{show:e.value,"onUpdate:show":a[0]||(a[0]=v=>e.value=v),"on-close":i},{default:E(()=>[I(U,{onClose:i,onChooseTime:f})]),_:1},8,["show"])}}};export{Y as _,j as a};
