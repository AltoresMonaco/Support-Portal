import{m as T}from"./globalConfig-DaGjiImb.js";import{u as A}from"./index-BaHWIRRA.js";import{at as f,au as b,Y as h}from"./dashboard-CGLIihvy.js";import{u as E}from"./index-C2DForDf.js";import{_ as N,o as d,n as m,p as s,e as l,q as M,m as S,t as p,k as w,f as I,u as n}from"./_plugin-vue_export-helper-CvYNw_mv.js";import"./index-Y4OjWrJ-.js";import"./_commonjsHelpers-BosuxZz1.js";import"./axios-CCb-kr4I.js";import"./mutationHelpers-3VTcoJiD.js";import"./vue-router-CNCrM2WK.js";import"./index-BP-sUqpX.js";import"./index-DaWXXnfb.js";import"./globalConfigMixin-BNbqaRx5.js";import"./timeHelper-BT38nsET.js";import"./Spinner-B-aSVz3z.js";import"./Thumbnail-DLjRBBx8.js";import"./index-BO4rcqbh.js";import"./utils.esm-CA3tRshB.js";import"./exports-CsC-x4VI.js";import"./useKeyboardNavigableList-Cfstgo2Q.js";import"./helper-DcGaBm2u.js";import"./DashboardIcon-CPXNa31t.js";import"./AudioNotificationHelper-CDrFIep2.js";import"./Icon-Dtj3LCzD.js";import"./Validators-eX6_8wdj.js";import"./vue-dompurify-html-DZ5r8uTJ.js";import"./module-CGzIBJZi.js";const $={components:{PageHeader:f},validations:{selectedAgents:{isEmpty(){return!!this.selectedAgents.length}}},setup(){return{v$:E()}},data(){return{selectedAgents:[],isCreating:!1}},computed:{...T({agentList:"agents/getAgents"})},mounted(){this.$store.dispatch("agents/get")},methods:{async addAgents(){this.isCreating=!0;const e=this.$route.params.inbox_id,t=this.selectedAgents.map(o=>o.id);try{await b.update({inboxId:e,agentList:t}),h.replace({name:"settings_inbox_finish",params:{page:"new",inbox_id:this.$route.params.inbox_id}})}catch(o){A(o.message)}this.isCreating=!1}}},G={class:"border border-slate-25 dark:border-slate-800/60 bg-white dark:bg-slate-900 h-full p-6 w-full max-w-full md:w-3/4 md:max-w-[75%] flex-shrink-0 flex-grow-0"},O={class:"w-full"},v={class:"w-3/5"},D={class:"w-full"},C={key:0,class:"message"},L={class:"w-full"};function x(e,t,o,r,a,c){const u=n("PageHeader"),g=n("multiselect"),_=n("woot-submit-button");return d(),m("div",G,[s("form",{class:"flex flex-wrap mx-0",onSubmit:t[1]||(t[1]=I(i=>c.addAgents(),["prevent"]))},[s("div",O,[l(u,{"header-title":e.$t("INBOX_MGMT.ADD.AGENTS.TITLE"),"header-content":e.$t("INBOX_MGMT.ADD.AGENTS.DESC")},null,8,["header-title","header-content"])]),s("div",v,[s("div",D,[s("label",{class:M({error:r.v$.selectedAgents.$error})},[S(p(e.$t("INBOX_MGMT.ADD.AGENTS.TITLE"))+" ",1),l(g,{modelValue:a.selectedAgents,"onUpdate:modelValue":t[0]||(t[0]=i=>a.selectedAgents=i),options:e.agentList,"track-by":"id",label:"name",multiple:"","close-on-select":!1,"clear-on-select":!1,"hide-selected":"","selected-label":"","select-label":e.$t("FORMS.MULTISELECT.ENTER_TO_SELECT"),"deselect-label":e.$t("FORMS.MULTISELECT.ENTER_TO_REMOVE"),placeholder:e.$t("INBOX_MGMT.ADD.AGENTS.PICK_AGENTS"),onSelect:r.v$.selectedAgents.$touch},null,8,["modelValue","options","select-label","deselect-label","placeholder","onSelect"]),r.v$.selectedAgents.$error?(d(),m("span",C,p(e.$t("INBOX_MGMT.ADD.AGENTS.VALIDATION_ERROR")),1)):w("",!0)],2)]),s("div",L,[l(_,{"button-text":e.$t("INBOX_MGMT.AGENTS.BUTTON_TEXT"),loading:a.isCreating},null,8,["button-text","loading"])])])],32)])}const ie=N($,[["render",x]]);export{ie as default};
