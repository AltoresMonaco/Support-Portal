import{r as S,c as l,P,o as R,a as T,L as A,k as d}from"./_plugin-vue_export-helper-CvYNw_mv.js";import{_ as f}from"./PortalSettingsBasicForm-BWJ9jzJ5.js";import{u as m}from"./index-BaHWIRRA.js";import{u as L,c as D}from"./mutationHelpers-3VTcoJiD.js";import{u as O,a as I}from"./vue-router-CNCrM2WK.js";import{u as v}from"./globalConfig-DaGjiImb.js";import"./index-C2DForDf.js";import"./dashboard-CGLIihvy.js";import"./axios-CCb-kr4I.js";import"./_commonjsHelpers-BosuxZz1.js";import"./globalConfigMixin-BNbqaRx5.js";import"./timeHelper-BT38nsET.js";import"./Spinner-B-aSVz3z.js";import"./Thumbnail-DLjRBBx8.js";import"./index-BO4rcqbh.js";import"./utils.esm-CA3tRshB.js";import"./exports-CsC-x4VI.js";import"./index-BP-sUqpX.js";import"./useKeyboardNavigableList-Cfstgo2Q.js";import"./helper-DcGaBm2u.js";import"./DashboardIcon-CPXNa31t.js";import"./AudioNotificationHelper-CDrFIep2.js";import"./index-Y4OjWrJ-.js";import"./Icon-Dtj3LCzD.js";import"./Validators-eX6_8wdj.js";import"./vue-dompurify-html-DZ5r8uTJ.js";import"./module-CGzIBJZi.js";import"./index-DaWXXnfb.js";import"./portalHelper-trLcR8pg.js";import"./SettingsLayout-Csyv2M7u.js";const et=Object.assign({name:"EditPortalBasic"},{__name:"EditPortalBasic",setup(C){const u=L(),s=O(),n=I(),e=D(),{t:i}=v(),c=u["portals/uiFlagsIn"],a=S(null),E=l(()=>s.params.portalSlug),p=l(()=>{const t=s.params.portalSlug;return u["portals/portalBySlug"].value(t)});P(()=>{a.value=E.value});async function g(t){let r="";try{const o=a.value;await e.dispatch("portals/update",{...t,portalSlug:o}),r=i("HELP_CENTER.PORTAL.ADD.API.SUCCESS_MESSAGE_FOR_UPDATE"),a.value!==t.slug&&(await e.dispatch("portals/index"),n.replace({name:s.name,params:{portalSlug:t.slug}}))}catch(o){r=(o==null?void 0:o.message)||i("HELP_CENTER.PORTAL.ADD.API.ERROR_MESSAGE_FOR_UPDATE")}finally{m(r)}}async function _(){try{const t=a.value;await e.dispatch("portals/deleteLogo",{portalSlug:t})}catch(t){m((t==null?void 0:t.message)||i("HELP_CENTER.PORTAL.ADD.LOGO.IMAGE_DELETE_ERROR"))}}return(t,r)=>p.value?(R(),T(f,{key:0,portal:p.value,"is-submitting":A(c).isUpdating,"submit-button-text":t.$t("HELP_CENTER.PORTAL.EDIT.EDIT_BASIC_INFO.BUTTON_TEXT"),onSubmit:g,onDeleteLogo:_},null,8,["portal","is-submitting","submit-button-text"])):d("",!0)}});export{et as default};
