import{u as x}from"./index-BaHWIRRA.js";import{m as D}from"./globalConfig-DaGjiImb.js";import{i as M}from"./utils.esm-CA3tRshB.js";import{r as H,m as j,f as q,c as G,u as k}from"./index-C2DForDf.js";import{_ as v,u as d,o as l,n as c,e as r,q as I,p as i,g as C,a0 as Y,F as y,i as w,t as S,a as _,l as m,m as T,f as O,b as E,k as z,H as P,ag as W,L as X}from"./_plugin-vue_export-helper-CvYNw_mv.js";import{_ as K}from"./SettingsLayout-CbuFko1M.js";import{_ as Q}from"./BaseSettingsHeader-CxIYpdLq.js";import{_ as J}from"./BasePaywallModal-Db3lqLyd.js";import"./index-Y4OjWrJ-.js";import"./_commonjsHelpers-BosuxZz1.js";import"./mutationHelpers-3VTcoJiD.js";import"./vue-router-CNCrM2WK.js";import"./index-BP-sUqpX.js";import"./index-DaWXXnfb.js";import"./BackButton-YZy1EtJv.js";import"./dashboard-CGLIihvy.js";import"./axios-CCb-kr4I.js";import"./globalConfigMixin-BNbqaRx5.js";import"./timeHelper-BT38nsET.js";import"./Spinner-B-aSVz3z.js";import"./Thumbnail-DLjRBBx8.js";import"./index-BO4rcqbh.js";import"./exports-CsC-x4VI.js";import"./useKeyboardNavigableList-Cfstgo2Q.js";import"./helper-DcGaBm2u.js";import"./DashboardIcon-CPXNa31t.js";import"./AudioNotificationHelper-CDrFIep2.js";import"./Icon-Dtj3LCzD.js";import"./Validators-eX6_8wdj.js";import"./vue-dompurify-html-DZ5r8uTJ.js";import"./module-CGzIBJZi.js";const N={name:{required:H,minLength:j(2)},thresholdTime:{decimal:q,minValue:G(.001)}},Z={props:{threshold:{type:Number,default:null},thresholdUnit:{type:String,default:"Minutes"},label:{type:String,default:""},placeholder:{type:String,default:""}},emits:["unit","isInValid","updateThreshold"],setup(){return{v$:k()}},data(){return{thresholdTime:this.threshold||"",thresholdUnitValue:this.thresholdUnit,options:[{value:"Minutes",label:"minutes"},{value:"Hours",label:"hours"},{value:"Days",label:"days"}]}},validations:N,computed:{thresholdTimeErrorMessage(){let e="";return this.v$.thresholdTime.$error&&(!this.v$.thresholdTime.numeric||!this.v$.thresholdTime.minValue)&&(e=this.$t("SLA.FORM.THRESHOLD_TIME.INVALID_FORMAT_ERROR")),e}},watch:{threshold:{immediate:!0,handler(e){Number.isNaN(e)||(this.thresholdTime=e)}},thresholdUnit:{immediate:!0,handler(e){this.thresholdUnitValue=e}}},methods:{onThresholdUnitChange(){this.$emit("unit",this.thresholdUnitValue)},onThresholdTimeChange(){this.v$.thresholdTime.$touch();const e=this.v$.thresholdTime.$invalid;this.$emit("isInValid",e),this.$emit("updateThreshold",this.thresholdTime?Number(this.thresholdTime):null)}}},ee={class:"flex items-center w-full gap-3"},te={class:"mt-7"},se=["value"];function oe(e,t,o,a,n,s){const p=d("woot-input");return l(),c("div",ee,[r(p,{modelValue:n.thresholdTime,"onUpdate:modelValue":[t[0]||(t[0]=u=>n.thresholdTime=u),s.onThresholdTimeChange],type:"number",class:I([{error:a.v$.thresholdTime.$error},"flex-grow"]),styles:{borderRadius:"12px",padding:"6px 12px",fontSize:"14px"},label:o.label,placeholder:o.placeholder,error:s.thresholdTimeErrorMessage},null,8,["modelValue","class","label","placeholder","error","onUpdate:modelValue"]),i("div",te,[C(i("select",{"onUpdate:modelValue":t[1]||(t[1]=u=>n.thresholdUnitValue=u),class:"px-4 py-1.5 min-w-[6.5rem] h-10 text-sm font-medium border-0 bg-slate-50 rounded-xl hover:cursor-pointer pr-7 text-slate-800 dark:text-slate-300",onChange:t[2]||(t[2]=(...u)=>s.onThresholdUnitChange&&s.onThresholdUnitChange(...u))},[(l(!0),c(y,null,w(n.options,(u,A)=>(l(),c("option",{key:A,value:u.value},S(u.label),9,se))),128))],544),[[Y,n.thresholdUnitValue]])])])}const ne=v(Z,[["render",oe]]),le={components:{SlaTimeInput:ne},props:{selectedResponse:{type:Object,default:()=>{}},submitLabel:{type:String,required:!0}},emits:["close","submitSla"],setup(){return{v$:k()}},data(){return{name:"",description:"",isSlaTimeInputsInvalid:!1,slaTimeInputsValidation:{},slaTimeInputs:[{threshold:null,unit:"Minutes",label:"SLA.FORM.FIRST_RESPONSE_TIME.LABEL",placeholder:"SLA.FORM.FIRST_RESPONSE_TIME.PLACEHOLDER"},{threshold:null,unit:"Minutes",label:"SLA.FORM.NEXT_RESPONSE_TIME.LABEL",placeholder:"SLA.FORM.NEXT_RESPONSE_TIME.PLACEHOLDER"},{threshold:null,unit:"Minutes",label:"SLA.FORM.RESOLUTION_TIME.LABEL",placeholder:"SLA.FORM.RESOLUTION_TIME.PLACEHOLDER"}],onlyDuringBusinessHours:!1}},validations:N,computed:{...D({uiFlags:"sla/getUIFlags"}),isSubmitDisabled(){return this.v$.name.$invalid||this.isSlaTimeInputsInvalid||this.uiFlags.isUpdating},slaNameErrorMessage(){let e="";return this.v$.name.$error&&(this.v$.name.required?this.v$.name.minLength||(e=this.$t("SLA.FORM.NAME.MINIMUM_LENGTH_ERROR")):e=this.$t("SLA.FORM.NAME.REQUIRED_ERROR")),e}},mounted(){this.selectedResponse&&this.setFormValues()},methods:{onClose(){this.$emit("close")},setFormValues(){const{name:e,description:t,first_response_time_threshold:o,next_response_time_threshold:a,resolution_time_threshold:n,only_during_business_hours:s}=this.selectedResponse;this.name=e,this.description=t,this.onlyDuringBusinessHours=s;const p=[o,a,n];this.slaTimeInputs.forEach((u,A)=>{const L=M(p[A],{minute:"Minutes",hour:"Hours",day:"Days"});u.threshold=L.time,u.unit=L.unit})},updateThreshold(e,t){this.slaTimeInputs[e].threshold=t},updateUnit(e,t){this.slaTimeInputs[e].unit=t},onSubmit(){const e={name:this.name,description:this.description,first_response_time_threshold:this.convertToSeconds(0),next_response_time_threshold:this.convertToSeconds(1),resolution_time_threshold:this.convertToSeconds(2),only_during_business_hours:this.onlyDuringBusinessHours};this.$emit("submitSla",e)},convertToSeconds(e){const{threshold:t,unit:o}=this.slaTimeInputs[e];return t===null||t===0?null:Number(t*({Minutes:60,Hours:3600,Days:86400}[o]||1))},handleIsInvalid(e,t){this.slaTimeInputsValidation={...this.slaTimeInputsValidation,[e]:t},this.checkValidationState()},checkValidationState(){const e=Object.values(this.slaTimeInputsValidation).some(t=>t);this.isSlaTimeInputsInvalid=e}}},ie={class:"flex flex-col h-auto overflow-auto"},re={class:"mt-3 flex h-10 items-center text-sm w-full gap-2 border border-solid border-slate-200 dark:border-slate-600 px-3 py-1.5 rounded-xl justify-between"},ae={for:"sla_bh",class:"text-slate-700 dark:text-slate-200"},de={class:"flex items-center justify-end w-full gap-2 mt-8"};function ue(e,t,o,a,n,s){const p=d("woot-input"),u=d("SlaTimeInput"),A=d("woot-switch"),L=d("woot-button");return l(),c("div",ie,[i("form",{class:"flex flex-wrap mx-0",onSubmit:t[3]||(t[3]=O((...f)=>s.onSubmit&&s.onSubmit(...f),["prevent"]))},[r(p,{modelValue:n.name,"onUpdate:modelValue":t[0]||(t[0]=f=>n.name=f),class:I([{error:a.v$.name.$error},"w-full"]),styles:{borderRadius:"12px",padding:"6px 12px",fontSize:"14px"},label:e.$t("SLA.FORM.NAME.LABEL"),placeholder:e.$t("SLA.FORM.NAME.PLACEHOLDER"),error:s.slaNameErrorMessage,onInput:a.v$.name.$touch,onBlur:a.v$.name.$touch},null,8,["modelValue","class","label","placeholder","error","onInput","onBlur"]),r(p,{modelValue:n.description,"onUpdate:modelValue":t[1]||(t[1]=f=>n.description=f),class:"w-full",styles:{borderRadius:"12px",padding:"6px 12px",fontSize:"14px"},label:e.$t("SLA.FORM.DESCRIPTION.LABEL"),placeholder:e.$t("SLA.FORM.DESCRIPTION.PLACEHOLDER")},null,8,["modelValue","label","placeholder"]),(l(!0),c(y,null,w(n.slaTimeInputs,(f,b)=>(l(),_(u,{key:b,threshold:f.threshold,"threshold-unit":f.unit,label:e.$t(f.label),placeholder:e.$t(f.placeholder),onUpdateThreshold:g=>s.updateThreshold(b,g),onUnit:g=>s.updateUnit(b,g),onIsInValid:g=>s.handleIsInvalid(b,g)},null,8,["threshold","threshold-unit","label","placeholder","onUpdateThreshold","onUnit","onIsInValid"]))),128)),i("div",re,[i("span",ae,S(e.$t("SLA.FORM.BUSINESS_HOURS.PLACEHOLDER")),1),r(A,{id:"sla_bh",modelValue:n.onlyDuringBusinessHours,"onUpdate:modelValue":t[2]||(t[2]=f=>n.onlyDuringBusinessHours=f)},null,8,["modelValue"])]),i("div",de,[r(L,{class:"px-4 rounded-xl button clear outline-woot-200/50 outline",onClick:O(s.onClose,["prevent"])},{default:m(()=>[T(S(e.$t("SLA.FORM.CANCEL")),1)]),_:1},8,["onClick"]),r(L,{"is-disabled":s.isSubmitDisabled,class:"px-4 rounded-xl","is-loading":e.uiFlags.isUpdating},{default:m(()=>[T(S(o.submitLabel),1)]),_:1},8,["is-disabled","is-loading"])])],32)])}const me=v(le,[["render",ue]]),pe={components:{SlaForm:me},emits:["close"],methods:{onClose(){this.$emit("close")},async addSLA(e){try{await this.$store.dispatch("sla/create",e),x(this.$t("SLA.ADD.API.SUCCESS_MESSAGE")),this.onClose()}catch(t){const o=t.message||this.$t("SLA.ADD.API.ERROR_MESSAGE");x(o)}}}},he={class:"flex flex-col h-auto overflow-auto"};function ce(e,t,o,a,n,s){const p=d("woot-modal-header"),u=d("SlaForm");return l(),c("div",he,[r(p,{"header-title":e.$t("SLA.ADD.TITLE"),"header-content":e.$t("SLA.ADD.DESC")},null,8,["header-title","header-content"]),r(u,{"submit-label":e.$t("SLA.FORM.CREATE"),onSubmitSla:s.addSLA,onClose:s.onClose},null,8,["submit-label","onSubmitSla","onClose"])])}const fe=v(pe,[["render",ce]]),Se={class:"flex relative flex-col sm:flex-row p-4 gap-4 sm:p-6 justify-between shadow-sm group bg-white border border-solid rounded-xl dark:bg-slate-800 border-slate-75 dark:border-slate-700/50 w-full"},_e={class:"flex flex-col min-w-0 items-start gap-3 max-w-[480px] w-full"},Ae={class:"flex items-center justify-between w-full gap-3 sm:justify-normal whitespace-nowrap"},Le={class:"justify-between text-sm font-medium truncate w-fit sm:justify-normal text-slate-900 dark:text-slate-25"},ge={class:"text-base text-slate-600 dark:text-slate-300 max-w-[400px] w-full line-clamp-2"},Ee={key:0,class:"absolute flex-col items-center hidden gap-1 border-none ltr:-right-3 rtl:-left-3 top-3 group-hover:flex"},U={__name:"BaseSettingsListItem",props:{title:{type:String,default:""},description:{type:String,default:""}},setup(e){return(t,o)=>(l(),c("div",Se,[E(t.$slots,"leftSection",{},()=>[i("div",_e,[i("div",Ae,[i("h3",Le,[E(t.$slots,"title",{},()=>[T(S(e.title),1)])]),E(t.$slots,"label")]),i("p",ge,[E(t.$slots,"description",{},()=>[T(S(e.description),1)])])])]),E(t.$slots,"rightSection"),t.$slots.actions?(l(),c("div",Ee,[E(t.$slots,"actions")])):z("",!0)]))}},Te={class:"flex flex-row items-start w-full h-full gap-1 sm:items-end sm:px-6 sm:py-2 sm:gap-2 sm:flex-col"},be={class:"inline-flex items-center gap-1 tracking-[-0.6%] text-sm ltr:pl-1.5 sm:ltr:pl-0 rtl:pr-1.5 sm:rtl:pr-0 text-slate-600 dark:text-slate-300"},ye={class:"text-sm sm:text-2xl font-medium tracking-[-1.5%] text-slate-900 dark:text-slate-25"},R={__name:"SLAResponseTime",props:{responseType:{type:String,default:""},responseTime:{type:String,default:""}},setup(e){return(t,o)=>{const a=d("fluent-icon"),n=P("tooltip");return l(),c("div",Te,[i("span",be,[C(r(a,{size:"14",icon:"information",type:"outline",class:"flex-shrink-0 hidden text-sm font-normal sm:flex sm:font-medium text-slate-500 dark:text-slate-500"},null,512),[[n,t.$t(`SLA.LIST.RESPONSE_TYPES.${e.responseType}`),void 0,{left:!0}]]),T(" "+S(t.$t(`SLA.LIST.RESPONSE_TYPES.SHORT_HAND.${e.responseType}`))+" ",1),o[0]||(o[0]=i("span",{class:"flex sm:hidden"},":",-1))]),i("span",ye,S(e.responseTime),1)])}}},we={class:"inline-flex items-center min-w-0 gap-1 px-1.5 sm:px-2 py-1 border border-solid rounded-lg border-slate-75 dark:border-slate-700/50"},xe={__name:"SLABusinessHoursLabel",props:{hasBusinessHours:{type:Boolean,required:!0}},setup(e){return(t,o)=>{const a=d("fluent-icon");return l(),c("div",we,[r(a,{size:"14",icon:e.hasBusinessHours?"alarm-on":"alarm-off",type:"outline",class:I(["flex-shrink-0",e.hasBusinessHours?"text-slate-600 dark:text-slate-400":"text-slate-300 dark:text-slate-700"])},null,8,["icon","class"]),i("span",{class:I(["hidden text-xs tracking-[0.2%] font-normal truncate sm:block",e.hasBusinessHours?"text-slate-600 dark:text-slate-400":"text-slate-300 dark:text-slate-700"])},S(e.hasBusinessHours?t.$t("SLA.LIST.BUSINESS_HOURS_ON"):t.$t("SLA.LIST.BUSINESS_HOURS_OFF")),3)])}}},Ie={class:"flex items-center divide-x rtl:divide-x-reverse sm:rtl:!border-l-0 sm:rtl:!border-r sm:rtl:border-solid sm:rtl:border-slate-75 sm:rtl:dark:border-slate-700/50 gap-1.5 w-fit sm:w-full sm:gap-0 sm:justify-between divide-slate-75 dark:divide-slate-700/50"},$={__name:"SLAListItem",props:{slaName:{type:String,required:!0},description:{type:String,required:!0},firstResponse:{type:String,required:!0},nextResponse:{type:String,required:!0},resolutionTime:{type:String,required:!0},hasBusinessHours:{type:Boolean,required:!0},isLoading:{type:Boolean,default:!1}},emits:["delete"],setup(e,{emit:t}){const o=t;return(a,n)=>{const s=d("woot-button"),p=P("tooltip");return l(),_(U,{class:"sm:divide-x sm:divide-slate-75 sm:dark:divide-slate-700/50",title:e.slaName,description:e.description},{label:m(()=>[r(xe,{"has-business-hours":e.hasBusinessHours},null,8,["has-business-hours"])]),rightSection:m(()=>[i("div",Ie,[r(R,{"response-type":"FRT","response-time":e.firstResponse},null,8,["response-time"]),r(R,{"response-type":"NRT","response-time":e.nextResponse},null,8,["response-time"]),r(R,{"response-type":"RT","response-time":e.resolutionTime},null,8,["response-time"])])]),actions:m(()=>[C(r(s,{variant:"smooth","color-scheme":"alert",size:"tiny",icon:"delete","class-names":"grey-btn","is-loading":e.isLoading,onClick:n[0]||(n[0]=u=>o("delete"))},null,8,["is-loading"]),[[p,a.$t("SLA.FORM.DELETE"),void 0,{top:!0}]])]),_:1},8,["title","description"])}}},ve={class:"w-full min-h-[12rem] relative"},Re={class:"w-full space-y-3"},$e={class:"absolute inset-0 flex flex-col items-center justify-center w-full h-full bg-gradient-to-t from-white dark:from-slate-900 to-transparent"},F={__name:"BaseEmptyState",setup(e){return(t,o)=>(l(),c("div",ve,[i("div",Re,[r($,{class:"opacity-25 dark:opacity-20","sla-name":t.$t("SLA.LIST.EMPTY.TITLE_1"),description:t.$t("SLA.LIST.EMPTY.DESC_1"),"first-response":"20m","next-response":"1h","resolution-time":"24h","has-business-hours":""},null,8,["sla-name","description"]),r($,{class:"opacity-25 dark:opacity-20","sla-name":t.$t("SLA.LIST.EMPTY.TITLE_2"),description:t.$t("SLA.LIST.EMPTY.DESC_2"),"first-response":"2h","next-response":"4h","resolution-time":"4d","has-business-hours":""},null,8,["sla-name","description"])]),i("div",$e,[E(t.$slots,"default")])]))}},Ce={class:"max-w-xs text-sm font-medium text-center"},Oe={__name:"SLAEmptyState",emits:["primaryAction"],setup(e,{emit:t}){const o=t,a=()=>o("primaryAction");return(n,s)=>{const p=d("woot-button");return l(),_(F,null,{default:m(()=>[i("p",Ce,S(n.$t("SLA.LIST.404")),1),r(p,{"color-scheme":"primary",icon:"plus-sign",class:"px-5 mt-4 rounded-xl",onClick:a},{default:m(()=>[T(S(n.$t("SLA.ADD_ACTION_LONG")),1)]),_:1})]),_:1})}}},De={__name:"SLAHeader",props:{showActions:{type:Boolean,default:!0}},emits:["add"],setup(e){return(t,o)=>{const a=d("woot-button");return l(),_(Q,{title:t.$t("SLA.HEADER"),description:t.$t("SLA.DESCRIPTION"),"link-text":t.$t("SLA.LEARN_MORE"),"feature-name":"sla"},W({_:2},[e.showActions?{name:"actions",fn:m(()=>[r(a,{"color-scheme":"primary",icon:"plus-sign",class:"rounded-xl",onClick:o[0]||(o[0]=n=>t.$emit("add"))},{default:m(()=>[T(S(t.$t("SLA.ADD_ACTION")),1)]),_:1})]),key:"0"}:void 0]),1032,["title","description","link-text"])}}},Me={class:"flex items-center sm:rtl:!border-l-0 sm:rtl:!border-r sm:rtl:border-solid sm:rtl:border-slate-75 sm:rtl:dark:border-slate-700/50 gap-1.5 w-fit sm:w-full sm:gap-0 sm:justify-between"},ke={__name:"SLAListItemLoading",setup(e){return(t,o)=>(l(),_(U,{class:"opacity-50"},{title:m(()=>o[0]||(o[0]=[i("div",{class:"w-24 h-[26px] rounded-md bg-slate-50 dark:bg-slate-700 animate-pulse"},null,-1)])),description:m(()=>o[1]||(o[1]=[i("div",{class:"w-64 h-4 mb-0.5 rounded-md bg-slate-50 dark:bg-slate-700 animate-pulse"},null,-1),i("div",{class:"w-48 h-4 rounded-md bg-slate-50 dark:bg-slate-700 animate-pulse"},null,-1)])),label:m(()=>o[2]||(o[2]=[i("div",{class:"w-32 h-[26px] bg-slate-50 dark:bg-slate-700 animate-pulse rounded-md"},null,-1)])),rightSection:m(()=>[i("div",Me,[(l(),c(y,null,w(3,a=>i("div",{key:a,class:"flex justify-end w-1/3 h-full px-4"},o[3]||(o[3]=[i("div",{class:"w-32 h-full rounded-md bg-slate-50 dark:bg-slate-700 animate-pulse"},null,-1)]))),64))])]),_:1}))}},Pe={__name:"SLAPaywallEnterprise",props:{isSuperAdmin:{type:Boolean,default:!1},isOnChatwootCloud:{type:Boolean,default:!1}},emits:["upgrade"],setup(e,{emit:t}){const o=e,a=t,n=o.isOnChatwootCloud?"PAYWALL":"ENTERPRISE_PAYWALL";return(s,p)=>(l(),_(F,null,{default:m(()=>[r(J,{"feature-prefix":"SLA","i18n-key":X(n),"is-on-chatwoot-cloud":e.isOnChatwootCloud,"is-super-admin":e.isSuperAdmin,onUpgrade:p[0]||(p[0]=u=>a("upgrade"))},null,8,["i18n-key","is-on-chatwoot-cloud","is-super-admin"])]),_:1}))}},Ne={components:{AddSLA:fe,SettingsLayout:K,SLAEmptyState:Oe,SLAHeader:De,SLAListItem:$,SLAListItemLoading:ke,SLAPaywallEnterprise:Pe},data(){return{loading:{},showAddPopup:!1,showDeleteConfirmationPopup:!1,selectedResponse:{}}},computed:{...D({isOnChatwootCloud:"globalConfig/isOnChatwootCloud",isFeatureEnabledonAccount:"accounts/isFeatureEnabledonAccount",records:"sla/getSLA",currentUser:"getCurrentUser",accountId:"getCurrentAccountId",uiFlags:"sla/getUIFlags"}),deleteConfirmText(){return this.$t("SLA.DELETE.CONFIRM.YES")},deleteRejectText(){return this.$t("SLA.DELETE.CONFIRM.NO")},deleteMessage(){return` ${this.selectedResponse.name}`},isBehindAPaywall(){return!this.isFeatureEnabledonAccount(this.accountId,"sla")},isSuperAdmin(){return this.currentUser.type==="SuperAdmin"}},mounted(){this.$store.dispatch("sla/get")},methods:{openAddPopup(){this.isBehindAPaywall||(this.showAddPopup=!0)},hideAddPopup(){this.showAddPopup=!1},openDeletePopup(e){this.showDeleteConfirmationPopup=!0,this.selectedResponse=e},closeDeletePopup(){this.showDeleteConfirmationPopup=!1},confirmDeletion(){this.loading[this.selectedResponse.id]=!0,this.closeDeletePopup(),this.deleteSla(this.selectedResponse.id)},deleteSla(e){this.$store.dispatch("sla/delete",e).then(()=>{x(this.$t("SLA.DELETE.API.SUCCESS_MESSAGE"))}).catch(()=>{x(this.$t("SLA.DELETE.API.ERROR_MESSAGE"))}).finally(()=>{this.loading[this.selectedResponse.id]=!1})},displayTime(e){const{time:t,unit:o}=M(e,{minute:"m",hour:"h",day:"d"});return t?`${t}${o}`:"-"},onClickCTA(){this.$router.push({name:"billing_settings_index",params:{accountId:this.accountId}})}}},Ue={key:2,class:"flex flex-col w-full h-full gap-3"};function Fe(e,t,o,a,n,s){const p=d("SLAHeader"),u=d("SLAListItemLoading"),A=d("SLAPaywallEnterprise"),L=d("SLAEmptyState"),f=d("SLAListItem"),b=d("AddSLA"),g=d("woot-modal"),V=d("woot-delete-modal"),B=d("SettingsLayout");return l(),_(B,{"is-loading":e.uiFlags.isFetching,"loading-message":e.$t("SLA.LOADING")},{header:m(()=>[r(p,{"show-actions":e.records.length>0,onAdd:s.openAddPopup},null,8,["show-actions","onAdd"])]),loading:m(()=>[(l(),c(y,null,w(2,h=>r(u,{key:h,class:"mb-3"})),64))]),body:m(()=>[s.isBehindAPaywall?(l(),_(A,{key:0,"is-super-admin":s.isSuperAdmin,"is-on-chatwoot-cloud":e.isOnChatwootCloud,onUpgrade:s.onClickCTA},null,8,["is-super-admin","is-on-chatwoot-cloud","onUpgrade"])):e.records.length?(l(),c("div",Ue,[(l(!0),c(y,null,w(e.records,h=>(l(),_(f,{key:h.title,"sla-name":h.name,description:h.description,"first-response":s.displayTime(h.first_response_time_threshold),"next-response":s.displayTime(h.next_response_time_threshold),"resolution-time":s.displayTime(h.resolution_time_threshold),"has-business-hours":h.only_during_business_hours,"is-loading":n.loading[h.id],onDelete:Ve=>s.openDeletePopup(h)},null,8,["sla-name","description","first-response","next-response","resolution-time","has-business-hours","is-loading","onDelete"]))),128))])):(l(),_(L,{key:1,onPrimaryAction:s.openAddPopup},null,8,["onPrimaryAction"])),r(g,{show:n.showAddPopup,"onUpdate:show":t[0]||(t[0]=h=>n.showAddPopup=h),"on-close":s.hideAddPopup},{default:m(()=>[r(b,{onClose:s.hideAddPopup},null,8,["onClose"])]),_:1},8,["show","on-close"]),r(V,{show:n.showDeleteConfirmationPopup,"onUpdate:show":t[1]||(t[1]=h=>n.showDeleteConfirmationPopup=h),"on-close":s.closeDeletePopup,"on-confirm":s.confirmDeletion,title:e.$t("SLA.DELETE.CONFIRM.TITLE"),message:e.$t("SLA.DELETE.CONFIRM.MESSAGE"),"message-value":s.deleteMessage,"confirm-text":s.deleteConfirmText,"reject-text":s.deleteRejectText},null,8,["show","on-close","on-confirm","title","message","message-value","confirm-text","reject-text"])]),_:1},8,["is-loading","loading-message"])}const At=v(Ne,[["render",Fe]]);export{At as default};
