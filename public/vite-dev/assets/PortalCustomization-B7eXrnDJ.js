import{c,P as _,o as E,a as T,L as g,k as P}from"./_plugin-vue_export-helper-CvYNw_mv.js";import{P as S}from"./PortalSettingsCustomizationForm-D-UtF3hC.js";import{a9 as A}from"./dashboard-CGLIihvy.js";import{a as R,u as f}from"./index-BaHWIRRA.js";import{u as d,c as h}from"./mutationHelpers-3VTcoJiD.js";import{u as C,a as O}from"./vue-router-CNCrM2WK.js";import{u as I}from"./globalConfig-DaGjiImb.js";import"./labelColor-5G4vXyDu.js";import"./SettingsLayout-Csyv2M7u.js";import"./DashboardIcon-CPXNa31t.js";import"./AudioNotificationHelper-CDrFIep2.js";import"./index-Y4OjWrJ-.js";import"./_commonjsHelpers-BosuxZz1.js";import"./exports-CsC-x4VI.js";import"./Icon-Dtj3LCzD.js";import"./index-C2DForDf.js";import"./axios-CCb-kr4I.js";import"./globalConfigMixin-BNbqaRx5.js";import"./timeHelper-BT38nsET.js";import"./Spinner-B-aSVz3z.js";import"./Thumbnail-DLjRBBx8.js";import"./index-BO4rcqbh.js";import"./utils.esm-CA3tRshB.js";import"./index-BP-sUqpX.js";import"./useKeyboardNavigableList-Cfstgo2Q.js";import"./helper-DcGaBm2u.js";import"./Validators-eX6_8wdj.js";import"./vue-dompurify-html-DZ5r8uTJ.js";import"./module-CGzIBJZi.js";import"./index-DaWXXnfb.js";const et=Object.assign({name:"PortalCustomization"},{__name:"PortalCustomization",setup(B){const a=d(),e=C(),u=O(),s=h(),{t:i}=I(),n=a["portals/uiFlagsIn"],m=c(()=>{const t=e.params.portalSlug;return t?a["portals/portalBySlug"].value(t):{}});_(()=>{s.dispatch("portals/index")});async function l(t){const p=e.params.portalSlug;let o="";try{await s.dispatch("portals/update",{portalSlug:p,...t}),o=i("HELP_CENTER.PORTAL.ADD.API.SUCCESS_MESSAGE_FOR_UPDATE"),R(A.ONBOARD_CUSTOMIZATION,{hasHomePageLink:!!t.homepage_link,hasPageTitle:!!t.page_title,hasHeaderText:!!t.headerText})}catch(r){o=(r==null?void 0:r.message)||i("HELP_CENTER.PORTAL.ADD.API.ERROR_MESSAGE_FOR_UPDATE")}finally{f(o),u.push({name:"portal_finish"})}}return(t,p)=>m.value?(E(),T(S,{key:0,portal:m.value,"is-submitting":g(n).isUpdating,"submit-button-text":t.$t("HELP_CENTER.PORTAL.EDIT.EDIT_BASIC_INFO.BUTTON_TEXT"),onSubmit:l},null,8,["portal","is-submitting","submit-button-text"])):P("",!0)}});export{et as default};
