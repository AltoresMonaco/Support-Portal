import{u,r as l,m}from"./index-C2DForDf.js";import{u as S}from"./index-BaHWIRRA.js";import{_ as f}from"./Input-BujGHd2I.js";import{S as P}from"./SubmitButton-DD7GmEA-.js";import{S as w}from"./DashboardIcon-CPXNa31t.js";import{s as h}from"./auth-DDr_qkNO.js";import{_ as g,o as E,n as _,p as a,t as R,e as n,f as A,u as p}from"./_plugin-vue_export-helper-CvYNw_mv.js";import"./globalConfig-DaGjiImb.js";import"./index-Y4OjWrJ-.js";import"./_commonjsHelpers-BosuxZz1.js";import"./WithLabel-DjXD7ol1.js";import"./Spinner-B-aSVz3z.js";import"./vue-router-CNCrM2WK.js";import"./index-BP-sUqpX.js";import"./AudioNotificationHelper-CDrFIep2.js";import"./exports-CsC-x4VI.js";import"./Icon-Dtj3LCzD.js";import"./axios-CCb-kr4I.js";const O={components:{FormInput:f,SubmitButton:P},props:{resetPasswordToken:{type:String,default:""}},setup(){return{v$:u()}},data(){return{credentials:{confirmPassword:"",password:""},newPasswordAPI:{message:"",showLoading:!1},error:""}},mounted(){this.resetPasswordToken||(window.location=w)},validations:{credentials:{password:{required:l,minLength:m(6)},confirmPassword:{required:l,minLength:m(6),isEqPassword(s){return s===this.credentials.password}}}},methods:{showAlertMessage(s){this.newPasswordAPI.showLoading=!1,S(s)},submitForm(){this.newPasswordAPI.showLoading=!0;const s={confirmPassword:this.credentials.confirmPassword,password:this.credentials.password,resetPasswordToken:this.resetPasswordToken};h(s).then(()=>{window.location=w}).catch(e=>{this.showAlertMessage((e==null?void 0:e.message)||this.$t("SET_NEW_PASSWORD.API.ERROR_MESSAGE"))})}}},W={class:"flex flex-col justify-center w-full min-h-screen py-12 bg-woot-25 sm:px-6 lg:px-8 dark:bg-slate-900"},b={class:"mb-1 text-2xl font-medium tracking-tight text-left text-slate-900 dark:text-white"},D={class:"space-y-5"};function T(s,e,L,o,r,i){const d=p("FormInput"),c=p("SubmitButton");return E(),_("div",W,[a("form",{class:"bg-white shadow sm:mx-auto sm:w-full sm:max-w-lg dark:bg-slate-800 p-11 sm:shadow-lg sm:rounded-lg",onSubmit:e[2]||(e[2]=A((...t)=>i.submitForm&&i.submitForm(...t),["prevent"]))},[a("h1",b,R(s.$t("SET_NEW_PASSWORD.TITLE")),1),a("div",D,[n(d,{modelValue:r.credentials.password,"onUpdate:modelValue":e[0]||(e[0]=t=>r.credentials.password=t),class:"mt-3",name:"password",type:"password","has-error":o.v$.credentials.password.$error,"error-message":s.$t("SET_NEW_PASSWORD.PASSWORD.ERROR"),placeholder:s.$t("SET_NEW_PASSWORD.PASSWORD.PLACEHOLDER"),onBlur:o.v$.credentials.password.$touch},null,8,["modelValue","has-error","error-message","placeholder","onBlur"]),n(d,{modelValue:r.credentials.confirmPassword,"onUpdate:modelValue":e[1]||(e[1]=t=>r.credentials.confirmPassword=t),class:"mt-3",name:"confirm_password",type:"password","has-error":o.v$.credentials.confirmPassword.$error,"error-message":s.$t("SET_NEW_PASSWORD.CONFIRM_PASSWORD.ERROR"),placeholder:s.$t("SET_NEW_PASSWORD.CONFIRM_PASSWORD.PLACEHOLDER"),onBlur:o.v$.credentials.confirmPassword.$touch},null,8,["modelValue","has-error","error-message","placeholder","onBlur"]),n(c,{disabled:o.v$.credentials.password.$invalid||o.v$.credentials.confirmPassword.$invalid||r.newPasswordAPI.showLoading,"button-text":s.$t("SET_NEW_PASSWORD.SUBMIT"),loading:r.newPasswordAPI.showLoading},null,8,["disabled","button-text","loading"])])],32)])}const J=g(O,[["render",T]]);export{J as default};
