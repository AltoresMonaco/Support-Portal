import{as as d,at as b,Y as g}from"./dashboard-CGLIihvy.js";import{_ as m,u as s,o as a,a as h,q as f,n as c,e as C,p as k,F as _,i as I}from"./_plugin-vue_export-helper-CvYNw_mv.js";import{m as w}from"./globalConfig-DaGjiImb.js";import{g as y}from"./globalConfigMixin-BNbqaRx5.js";import"./axios-CCb-kr4I.js";import"./_commonjsHelpers-BosuxZz1.js";import"./mutationHelpers-3VTcoJiD.js";import"./vue-router-CNCrM2WK.js";import"./index-BP-sUqpX.js";import"./index-DaWXXnfb.js";import"./timeHelper-BT38nsET.js";import"./Spinner-B-aSVz3z.js";import"./Thumbnail-DLjRBBx8.js";import"./index-BO4rcqbh.js";import"./utils.esm-CA3tRshB.js";import"./exports-CsC-x4VI.js";import"./index-BaHWIRRA.js";import"./index-Y4OjWrJ-.js";import"./index-C2DForDf.js";import"./useKeyboardNavigableList-Cfstgo2Q.js";import"./helper-DcGaBm2u.js";import"./DashboardIcon-CPXNa31t.js";import"./AudioNotificationHelper-CDrFIep2.js";import"./Icon-Dtj3LCzD.js";import"./Validators-eX6_8wdj.js";import"./vue-dompurify-html-DZ5r8uTJ.js";import"./module-CGzIBJZi.js";const A={components:{ChannelSelector:d},props:{channel:{type:Object,required:!0},enabledFeatures:{type:Object,required:!0}},emits:["channelItemClick"],computed:{hasFbConfigured(){var e;return(e=window.chatwootConfig)==null?void 0:e.fbAppId},isActive(){const{key:e}=this.channel;return Object.keys(this.enabledFeatures).length===0?!1:e==="website"?this.enabledFeatures.channel_website:e==="facebook"?this.enabledFeatures.channel_facebook&&this.hasFbConfigured:e==="email"?this.enabledFeatures.channel_email:["website","twilio","api","whatsapp","sms","telegram","line"].includes(e)}},methods:{getChannelThumbnail(){return this.channel.key==="api"&&this.channel.thumbnail?this.channel.thumbnail:`/assets/images/dashboard/channels/${this.channel.key}.png`},onItemClick(){this.isActive&&this.$emit("channelItemClick",this.channel.key)}}};function F(e,n,r,u,l,t){const i=s("ChannelSelector");return a(),h(i,{class:f({inactive:!t.isActive}),title:r.channel.name,src:t.getChannelThumbnail(),onClick:t.onItemClick},null,8,["class","title","src","onClick"])}const x=m(A,[["render",F]]),T={components:{ChannelItem:x,PageHeader:b},mixins:[y],data(){return{enabledFeatures:{}}},computed:{account(){return this.$store.getters["accounts/getAccount"](this.accountId)},channelList(){const{apiChannelName:e,apiChannelThumbnail:n}=this.globalConfig;return[{key:"website",name:"Website"},{key:"facebook",name:"Messenger"},{key:"whatsapp",name:"WhatsApp"},{key:"sms",name:"SMS"},{key:"email",name:"Email"},{key:"api",name:e||"API",thumbnail:n},{key:"telegram",name:"Telegram"},{key:"line",name:"Line"}]},...w({accountId:"getCurrentAccountId",globalConfig:"globalConfig/get"})},mounted(){this.initializeEnabledFeatures()},methods:{async initializeEnabledFeatures(){this.enabledFeatures=this.account.features},initChannelAuth(e){const n={sub_page:e,accountId:this.accountId};g.push({name:"settings_inboxes_page_channel",params:n})}}},$={class:"border border-slate-25 dark:border-slate-800/60 bg-white dark:bg-slate-900 h-full p-6 w-full max-w-full md:w-3/4 md:max-w-[75%] flex-shrink-0 flex-grow-0"},v={class:"grid max-w-3xl grid-cols-2 mx-0 mt-6 sm:grid-cols-3 lg:grid-cols-4"};function M(e,n,r,u,l,t){const i=s("PageHeader"),p=s("ChannelItem");return a(),c("div",$,[C(i,{class:"max-w-4xl","header-title":e.$t("INBOX_MGMT.ADD.AUTH.TITLE"),"header-content":e.useInstallationName(e.$t("INBOX_MGMT.ADD.AUTH.DESC"),"Altores")},null,8,["header-title","header-content"]),k("div",v,[(a(!0),c(_,null,I(t.channelList,o=>(a(),h(p,{key:o.key,channel:o,"enabled-features":l.enabledFeatures,onChannelItemClick:t.initChannelAuth},null,8,["channel","enabled-features","onChannelItemClick"]))),128))])])}const ie=m(T,[["render",M]]);export{ie as default};
