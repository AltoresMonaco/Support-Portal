import{m as v}from"./globalConfig-DaGjiImb.js";import{u as y}from"./index-BaHWIRRA.js";import{j as A}from"./DashboardIcon-CPXNa31t.js";import{_ as N}from"./ShowMore-ClZZrHvu.js";import{_ as f,H as w,o as s,n as l,g as T,p as o,t as p,u as i,m as h,e as r,a as b,k,F as D,i as I,l as S}from"./_plugin-vue_export-helper-CvYNw_mv.js";import"./index-Y4OjWrJ-.js";import"./_commonjsHelpers-BosuxZz1.js";import"./vue-router-CNCrM2WK.js";import"./index-BP-sUqpX.js";import"./AudioNotificationHelper-CDrFIep2.js";import"./exports-CsC-x4VI.js";import"./Icon-Dtj3LCzD.js";const O={props:{botType:{type:String,default:"webhook"}},data(){return{botTypeConfig:{csml:{label:this.$t("AGENT_BOTS.TYPES.CSML"),thumbnail:"/dashboard/images/agent-bots/csml.png"},webhook:{label:this.$t("AGENT_BOTS.TYPES.WEBHOOK"),thumbnail:"/dashboard/images/agent-bots/webhook.svg"}}}}},L={class:"inline-flex items-center gap-1"},C=["src","alt"];function G(t,n,e,B,a,c){const d=w("tooltip");return s(),l("span",L,[T(o("img",{class:"agent-bot-type--thumbnail",src:a.botTypeConfig[e.botType].thumbnail,alt:a.botTypeConfig[e.botType].label},null,8,C),[[d,a.botTypeConfig[e.botType].label]]),o("span",null,p(a.botTypeConfig[e.botType].label),1)])}const x=f(O,[["render",G],["__scopeId","data-v-74dd218d"]]),R={components:{ShowMore:N,AgentBotType:x},props:{agentBot:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["edit","delete"],computed:{isACSMLTypeBot(){const{bot_type:t}=this.agentBot;return t==="csml"}}},M={class:"space-x-2"},U={class:"agent-bot--details"},F={class:"agent-bot--link"},P={class:"agent-bot--description"},j={class:"flex justify-end gap-1"};function H(t,n,e,B,a,c){const d=i("AgentBotType"),u=i("ShowMore"),_=i("woot-button"),m=w("tooltip");return s(),l("tr",M,[o("td",U,[o("div",F,[h(p(e.agentBot.name)+" (",1),r(d,{"bot-type":e.agentBot.bot_type},null,8,["bot-type"]),n[2]||(n[2]=h(") "))]),o("div",P,[r(u,{text:e.agentBot.description||"",limit:120},null,8,["text"])])]),o("td",j,[c.isACSMLTypeBot?T((s(),b(_,{key:0,variant:"smooth",size:"tiny","color-scheme":"secondary",icon:"edit",onClick:n[0]||(n[0]=g=>t.$emit("edit",e.agentBot))},null,512)),[[m,t.$t("AGENT_BOTS.EDIT.BUTTON_TEXT"),void 0,{top:!0}]]):k("",!0),T(r(_,{variant:"smooth","color-scheme":"alert",size:"tiny",icon:"dismiss-circle",onClick:n[1]||(n[1]=g=>t.$emit("delete",e.agentBot,e.index))},null,512),[[m,t.$t("AGENT_BOTS.DELETE.BUTTON_TEXT"),void 0,{top:!0}]])])])}const V=f(R,[["render",H],["__scopeId","data-v-7ef38711"]]),X={components:{AgentBotRow:V},computed:{...v({accountId:"getCurrentAccountId",agentBots:"agentBots/getBots",uiFlags:"agentBots/getUIFlags"}),newAgentBotsURL(){return A(`accounts/${this.accountId}/settings/agent-bots/csml/new`)}},mounted(){this.$store.dispatch("agentBots/get")},methods:{async onDeleteAgentBot(t){if(await this.$refs.confirmDialog.showConfirmation())try{await this.$store.dispatch("agentBots/delete",t.id),y(this.$t("AGENT_BOTS.DELETE.API.SUCCESS_MESSAGE"))}catch{y(this.$t("AGENT_BOTS.DELETE.API.ERROR_MESSAGE"))}},onEditAgentBot(t){this.$router.push(A(`accounts/${this.accountId}/settings/agent-bots/csml/${t.id}`))}}},q={class:"flex-1 p-4 overflow-auto"},z={class:"flex flex-row gap-4"},Y={class:"w-full lg:w-3/5"},K={key:1,class:"woot-table"},W={key:2,class:"flex flex-col items-center justify-center h-full"},J={class:"hidden w-1/3 lg:block"},Q=["innerHTML"];function Z(t,n,e,B,a,c){const d=i("woot-loading-state"),u=i("AgentBotRow"),_=i("router-link"),m=i("woot-button"),g=i("woot-confirm-modal");return s(),l("div",q,[o("div",z,[o("div",Y,[t.uiFlags.isFetching?(s(),b(d,{key:0,message:t.$t("AGENT_BOTS.LIST.LOADING")},null,8,["message"])):t.agentBots.length?(s(),l("table",K,[o("tbody",null,[(s(!0),l(D,null,I(t.agentBots,(E,$)=>(s(),b(u,{key:E.id,"agent-bot":E,index:$,onDelete:c.onDeleteAgentBot,onEdit:c.onEditAgentBot},null,8,["agent-bot","index","onDelete","onEdit"]))),128))])])):(s(),l("p",W,p(t.$t("AGENT_BOTS.LIST.404")),1))]),o("div",J,[o("p",{innerHTML:t.$t("AGENT_BOTS.SIDEBAR_TXT")},null,8,Q)])]),r(m,{"color-scheme":"success","class-names":"button--fixed-top",icon:"add-circle"},{default:S(()=>[r(_,{to:c.newAgentBotsURL,class:"white-text"},{default:S(()=>[h(p(t.$t("AGENT_BOTS.ADD.TITLE")),1)]),_:1},8,["to"])]),_:1}),r(g,{ref:"confirmDialog",title:t.$t("AGENT_BOTS.DELETE.TITLE"),description:t.$t("AGENT_BOTS.DELETE.DESCRIPTION")},null,8,["title","description"])])}const mt=f(X,[["render",Z],["__scopeId","data-v-e430c3bf"]]);export{mt as default};
