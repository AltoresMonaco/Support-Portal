import{W as g,b as C}from"./timeHelper-BT38nsET.js";import{F as b}from"./Index-CtF_0wrY.js";import{_ as E,o,n as i,p as l,g as m,U as x,a as S,l as B,k as h,t as d,F as u,i as _,e as y,q as k,u as f,H as I,m as w}from"./_plugin-vue_export-helper-CvYNw_mv.js";import"./Spinner-B-aSVz3z.js";import"./Thumbnail-DLjRBBx8.js";import"./globalConfig-DaGjiImb.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-BO4rcqbh.js";import"./utils.esm-CA3tRshB.js";import"./exports-CsC-x4VI.js";import"./vue-router-CNCrM2WK.js";import"./index-BP-sUqpX.js";import"./mutationHelpers-3VTcoJiD.js";import"./index-DaWXXnfb.js";import"./Icon-Dtj3LCzD.js";const K="Search",F={components:{FluentIcon:b,WootButton:g},props:{onClick:{type:Function,default:()=>{}},showRemoveButton:{type:Boolean,default:!1}},data(){return{selectedKey:"Search",emojis:C,search:""}},computed:{categories(){return[...this.emojis]},filterEmojisByCategory(){const t=this.emojis.find(s=>s.name===this.selectedKey?s.name:null);return t==null?void 0:t.emojis},filterAllEmojisBySearch(){return this.emojis.map(t=>{const s=t.emojis.filter(r=>r.slug.replaceAll("_"," ").includes(this.search.toLowerCase()));return s.length>0?{...t,emojis:s}:{...t,emojis:[]}})},hasNoSearch(){return this.selectedKey!==K&&this.search===""},hasEmptySearchResult(){return this.filterAllEmojisBySearch.every(t=>t.emojis.length===0)}},watch:{search(){this.selectedKey="Search"},selectedKey(){return this.selectedKey==="Search"?this.focusSearchInput():null}},mounted(){this.focusSearchInput()},methods:{changeCategory(t){this.search="",this.$refs.emojiItem.scrollTo({top:0}),this.selectedKey=t},getFirstEmojiByCategoryName(t){const s=this.emojis.find(r=>r.name===t?r:null);return s?s.emojis[0].emoji:""},focusSearchInput(){this.$nextTick(()=>{this.$refs.searchbar.focus()})}}},N={role:"dialog",class:"emoji-dialog bg-white shadow-lg dark:bg-slate-900 rounded-md border border-solid border-slate-75 dark:border-slate-800/50 box-content h-[300px] absolute right-0 -top-[95px] w-80 z-20"},O={class:"flex flex-col"},R={class:"flex gap-2 emoji-search--wrap"},A=["placeholder"],V={key:0,ref:"emojiItem",class:"emoji-item"},z={class:"emoji-category--title"},D={class:"emoji--row"},M=["onClick"],T={key:1,ref:"emojiItem",class:"emoji-item"},L={key:0,class:"emoji-category--title"},W={key:1,class:"emoji--row"},H=["onClick"],J={key:0,class:"empty-message"},U={class:"emoji-icon"},q={class:"empty-message--text"},P={class:"emoji-dialog--footer",role:"menu"},Y=["onClick"],G=["onClick"];function Q(t,s,r,X,c,n){const v=f("WootButton"),p=f("FluentIcon"),j=I("dompurify-html");return o(),i("div",N,[l("div",O,[l("div",R,[m(l("input",{ref:"searchbar","onUpdate:modelValue":s[0]||(s[0]=e=>c.search=e),type:"text",class:"emoji-search--input focus:box-shadow-blue dark:focus:box-shadow-dark !mb-0 !h-8 !text-sm",placeholder:t.$t("EMOJI.PLACEHOLDER")},null,8,A),[[x,c.search]]),r.showRemoveButton?(o(),S(v,{key:0,size:"small",variant:"smooth",class:"dark:!bg-slate-800 dark:!hover:bg-slate-700","color-scheme":"secondary",onClick:s[1]||(s[1]=e=>r.onClick(""))},{default:B(()=>[w(d(t.$t("EMOJI.REMOVE")),1)]),_:1})):h("",!0)]),n.hasNoSearch?(o(),i("div",V,[l("h5",z,d(c.selectedKey),1),l("div",D,[(o(!0),i(u,null,_(n.filterEmojisByCategory,e=>m((o(),i("button",{key:e.slug,class:"emoji--item","track-by":"$index",onClick:a=>r.onClick(e.emoji)},null,8,M)),[[j,e.emoji]])),128))])],512)):(o(),i("div",T,[(o(!0),i(u,null,_(n.filterAllEmojisBySearch,e=>(o(),i("div",{key:e.slug},[e.emojis.length>0?(o(),i("h5",L,d(e.name),1)):h("",!0),e.emojis.length>0?(o(),i("div",W,[(o(!0),i(u,null,_(e.emojis,a=>m((o(),i("button",{key:a.slug,class:"emoji--item","track-by":"$index",onClick:Z=>r.onClick(a.emoji)},null,8,H)),[[j,a.emoji]])),128))])):h("",!0)]))),128)),n.hasEmptySearchResult?(o(),i("div",J,[l("div",U,[y(p,{icon:"emoji",size:"48"})]),l("span",q,d(t.$t("EMOJI.NOT_FOUND")),1)])):h("",!0)],512)),l("div",P,[l("ul",null,[l("li",null,[l("button",{class:k(["emoji--item",{active:c.selectedKey==="Search"}]),onClick:s[2]||(s[2]=e=>n.changeCategory("Search"))},[y(p,{icon:"search",size:"16",class:"text-slate-700 dark:text-slate-100"})],2)]),(o(!0),i(u,null,_(n.categories,e=>(o(),i("li",{key:e.slug,onClick:a=>n.changeCategory(e.name)},[m(l("button",{class:k(["emoji--item",{active:c.selectedKey===e.name}]),onClick:a=>n.changeCategory(e.name)},null,10,G),[[j,n.getFirstEmojiByCategoryName(e.name)]])],8,Y))),128))])])])])}const _e=E(F,[["render",Q],["__scopeId","data-v-00791042"]]);export{_e as default};
